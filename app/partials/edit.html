<h1>Edit</h1>

	<p><input type="checkbox" ng-model="reactor.state.editing" /> Edit mode</p>

	<div class="reactor {{reactor.type}}">

		<div class="meta" ng-if="!reactor.state.editing">
			<h1>{{reactor.meta.title.text}}</h1>
			<p>{{reactor.meta.description.text}}</p>
		</div>
		
		<div class="meta" ng-if="reactor.state.editing">
			<h1 class="interaction_title"><label for="reactor_title">Title:</label> <input class="interaction_title" ng-model="reactor.meta.title.text" /></h1>
			<p><label for="reactor_description">Description:</label> <textarea style="width: 700px ; vertical-align:middle;" name="reactor_description" ng-model="reactor.meta.description.text"></textarea></p>
		</div>

		<div class="entries_container">

			<input ng-if="reactor.state.editing" type="button" value="add a slide +" ng-click="reactor.add()">
			<ul class="entries" style="list-style-type: none ;">
				<li ng-repeat="entry in reactor.entries" class="entry {{entry.type}}" ng-if="!reactor.state.editing">
					<div>
						<p>{{reactor.pretty_child_type}} <span class="entry_number">{{$index+1}}</span> of <span class="total_entries_number">{{reactor.entries.length}}</span></p>
						<h1 class="entry_title">{{entry.meta.title.text}}</h1>
						<div class="text_container">{{entry.text}}</div>
					</div>
				</li>

				<li ng-repeat="entry in reactor.entries" ng-if="reactor.state.editing" class="entry {{entry.type}}">
					<div>
						<p>{{reactor.pretty_child_type}} <span class="entry_number">{{$index+1}}</span> of <span class="total_entries_number">{{reactor.entries.length}}</span></p>
						<h1 class="interaction_title"><label for="entry_title">Title:</label> <input name="entry_title" ng-model="entry.meta.title.text"></h1>
						<div class="text_container"><label for="entry_title">Text:</label> <textarea style="width: 700px ;" name="entry_text" ng-model="entry.text"></textarea></div>
					</div>
				</li>
			</ul>
			<input ng-if="reactor.state.editing" type="button" value="add a slide +" ng-click="reactor.add()">




			<div class="entries_controls" ng-if="reactor.navigation.controls.include && !reactor.state.editing">
				<input type="button" 
					ng-repeat="button in reactor.navigation.controls.buttons" 
					class="{{button.subtype}}_entry_button" 
					value="{{button.label}}" 
					ng-click="reactor.navigation.goto( button.response )" 
					ng-if="button.include"
				/>
				<ul class="pagination" ng-if="reactor.navigation.controls.pagination.include">
					<li ng-repeat="entry in reactor.entries"><a>{{ $index + 1 }}</a></li>
				</ul>
			</div>
			
			<p ng-if="reactor.state.editing"><input type="checkbox" ng-model="reactor.navigation.controls.include" /> Include navigation controls</p>
			<div class="entries_controls" ng-if="reactor.navigation.controls.include && reactor.state.editing">
				<span ng-repeat="button in reactor.navigation.controls.buttons" class="{{button.subtype}}_entry_button" style="background: #ccc ; margin: 3px ; padding: 3px ;">
					<input type="checkbox" ng-model="button.include" /><input type="text" ng-model="button.label" />
				</span>
				<p><input type="checkbox" ng-model="reactor.navigation.controls.pagination.include" /> Include pagination</p>
				<ul class="pagination" ng-if="reactor.navigation.controls.pagination.include">
					<li ng-repeat="entry in reactor.entries"><a>{{ $index + 1 }}</a></li>
				</ul>
			</div>

			
			
		</div>

	</div>

	<p><input type="checkbox" ng-model="reactor.state.editing" /> Edit mode</p>